{% extends 'base.html' %}

{% block navbar %}
{{ super() }}
{% endblock navbar %}

{% block scripts %}
{{ super() }}
<script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js"></script>
<script>
$(function(){
	$SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
	//$SCRIPT_ROOT+"/somepath";
	function ContactsViewModel() {
		var self = this;
		self.contacts = ko.observableArray();
		self.contacts([
			{
				name:ko.observable('name'),
				email:ko.observable('some email'),
				notes:ko.observable('some notes')
			},
			{
				name:ko.observable('name'),
				email:ko.observable('some email'),
				notes:ko.observable('some notes')
			}
			]);
		self.beginAddContact = function(contact) {
			alert('add :' + contact.name);
		}
		self.beginEdit = function(contact) {
			alert('edit :' + contact.name);
		}
	}
	ko.applyBindings(new ContactsViewModel(), $('#contact_container')[0]);

});
</script>
{% endblock %}

{% block content %}

<div class="container">
	<div class="row">
		<div class="col-md-offset-2  col-md-8">
			<div class="panel panel-default">
				<div class="panel-heading">
					<label for="sstr" class="panel-title">Search All:</label>
				<!--</div>
				<div class="panel-body">-->
					<form class="" role="form" action="{{ url_for('home') }}" method="post">
						<div class="input-group">
							<!--<label for="sstr">Search All:</label>-->
							<input type="text" class="form-control" name="sstr">
						    <span class="input-group-btn">
								<button type="button" class="btn btn-secondary"  id="start">
									<span class="glyphicon glyphicon-search"></span>
								</button>
							</span>
					    </div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="container-fluid">
	<div class="row">
		<div class="col-md-4">
			<div class="panel panel-default" id="contact_container">
				<div class="panel-heading">
					<div class="panel-title">Contacts <button data-bind="click: beginAddContact" class="text-invert pull-right">New <span class=" glyphicon glyphicon-plus"></span></button></div>
				</div>
				<!--<div class="panel-body">
				</div>-->
				<table class="table">
					<tbody>
					<!-- ko foreach: contacts -->
					<tr>
						<td data-bind="text: name" >Peter Griffin</td>
						<td data-bind="text: email">peter@griffin.com</td>
						<td data-bind="text: notes">Some notes</td>
						<td><span data-bind="click: $parent.beginEdit" class="glyphicon glyphicon-pencil"> </span></td>
						<td><span data-bind="click: $parent.beginEdit" class="glyphicon glyphicon-trash" > </span></td>
					</tr>
					<!-- /ko -->
				</tbody>
				</table>
			</div>
		</div>
		<div class="col-md-3">
			<div class="panel panel-default">
				<div class="panel-heading">
					<div class="panel-title">Projects <button class="text-invert pull-right">New <span class=" glyphicon glyphicon-plus"></span></button></div>
				</div>
				<div class="panel-body">
					<p>Projects go here</p>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="panel panel-default">
				<div class="panel-heading">
					<div class="panel-title">Last 20 TimeEntries</div>
				</div>
				<div class="panel-body">
					<p>Last 20 TimeEntires go here</p>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="container-fluid">
<div class="row">
	<div class="col-sm-12">
	</div>
</div>
</div>
{% endblock %}

